<h1 class="page-title">Active Surveys</h1>

<% if @surveys.any? %>
  <div class="survey-grid">
    <% @surveys.each do |survey| %>
      <article class="survey-card">
        <header class="survey-card__header">
          <h2 class="survey-card__title"><%= link_to survey.title, survey_path(survey) %></h2>
          <span class="survey-card__meta">Semester: <%= survey.semester.presence || "TBD" %></span>
        </header>

        <dl class="survey-card__details">
          <div>
            <dt>Assigned Tracks</dt>
            <dd><%= survey.track_list.presence&.join(", ") || "Not yet assigned" %></dd>
          </div>
          <div>
            <dt>Questions</dt>
            <dd><%= pluralize(survey.questions.count, "question") %></dd>
          </div>
          <div>
            <dt>Created</dt>
            <dd><%= l survey.created_at, format: :long %></dd>
          </div>
        </dl>

        <footer class="survey-card__footer">
          <%= link_to "Open Survey", survey_path(survey), class: "btn btn-primary" %>
        </footer>
      </article>
    <% end %>
  </div>
<% else %>
  <p class="empty-state">No active surveys are available right now.</p>
<% end %>


