<main class="mx-auto max-w-6xl space-y-10 px-4 py-10 sm:px-6 lg:px-8">
  <div class="flex flex-col gap-4 md:flex-row md:items-start md:justify-between">
    <div class="space-y-2">
      <h1 class="text-3xl font-semibold tracking-tight text-slate-900">Edit Survey</h1>
      <p class="max-w-3xl text-sm text-slate-600">Fine-tune survey details, assignments, and prompts before publishing.</p>
    </div>
    <div class="flex flex-wrap gap-3">
      <%= link_to "Preview", preview_admin_survey_path(@survey), class: tailwind_button_classes(:subtle) %>
      <%= link_to "Back to Surveys", admin_surveys_path, class: tailwind_button_classes(:secondary) %>
    </div>
  </div>

  <section class="grid gap-6 md:grid-cols-2">
    <div class="space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
      <h3 class="text-sm font-semibold uppercase tracking-wide text-slate-600">Survey summary</h3>
      <dl class="space-y-3 text-sm text-slate-600">
        <div class="flex items-center justify-between">
          <dt class="font-medium text-slate-700">Semester</dt>
          <dd><%= @survey.semester.presence || "Unscheduled" %></dd>
        </div>
        <div class="flex items-center justify-between">
          <dt class="font-medium text-slate-700">Tracks</dt>
          <dd class="text-right"><%= @survey.track_list.present? ? @survey.track_list.join(", ") : "Unassigned" %></dd>
        </div>
        <div class="flex items-center justify-between">
          <dt class="font-medium text-slate-700">Created</dt>
          <dd><%= l(@survey.created_at, format: :short) %></dd>
        </div>
      </dl>
    </div>

    <div class="space-y-4 rounded-2xl border border-slate-200 bg-white p-6 shadow-sm">
      <h3 class="text-sm font-semibold uppercase tracking-wide text-slate-600">Quick stats</h3>
      <ul class="space-y-3 text-sm text-slate-600">
        <li class="flex items-center justify-between">
          <span>Track assignments</span>
          <strong class="font-semibold text-slate-900"><%= @survey.survey_assignments.size %></strong>
        </li>
        <li class="flex items-center justify-between">
          <span>Categories included</span>
          <strong class="font-semibold text-slate-900"><%= @survey.categories.size %></strong>
        </li>
        <li class="flex items-center justify-between">
          <span>Questions included</span>
          <strong class="font-semibold text-slate-900"><%= @survey.questions.size %></strong>
        </li>
      </ul>
    </div>
  </section>

  <%= render "form", survey: @survey %>
</main>
