<!-- Main Content for Admin Dashboard - layout provides html/head/body and navbar -->
<main class="main-content">
  <%= render "shared/role_switcher" %>
  <section class="dashboard-section">
    <div class="section-header">
      <h1 class="section-title">Admin Dashboard</h1>
      <p class="section-subtitle">System management for the MHA Program</p>
    </div>
    
    <div class="dashboard-grid dashboard-grid-4">
      <!-- Students Records -->
      <div class="feature-item">
        <%= link_to student_records_path, class: "feature-link", style: "display:block; text-decoration:none; color:inherit;" do %>
          <div class="feature-icon">ğŸ‘¨â€ğŸ“</div>
          <div class="feature-title">Students Records</div>
          <div class="feature-description"><%= @role_counts[:student] || 0 %> registered</div>
        <% end %>
      </div>

      <!-- Surveys -->
      <div class="feature-item">
        <%= link_to admin_surveys_path, class: "feature-link", style: "display:block; text-decoration:none; color:inherit;" do %>
          <div class="feature-icon">ğŸ“„</div>
          <div class="feature-title">Surveys</div>
          <div class="feature-description"><%= @total_surveys || 0 %> active</div>
        <% end %>
      </div>

      <!-- Members -->
      <div class="feature-item admin-feature">
        <%= link_to manage_members_path, class: "feature-link" do %>
          <div class="feature-icon admin-icon">ğŸ§‘â€ğŸ’¼</div>
          <div class="feature-title admin-title">Member Management</div>
          <div class="feature-description"><%= @role_counts[:advisor] || 0 %> advisors</div>
        <% end %>
      </div>

    </div>
  </section>

  <section class="dashboard-section">
    <div class="section-header">
      <h2 class="section-title">Recent Activity</h2>
      <p class="section-subtitle">Latest member logins</p>
    </div>

    <table class="table">
      <thead>
        <tr>
          <th>Name</th>
          <th>Email</th>
          <th>Role</th>
          <th>Last Updated</th>
        </tr>
      </thead>
      <tbody>
        <% @recent_logins.each do |user| %>
          <tr>
            <td><%= user.full_name %></td>
            <td><%= user.email %></td>
            <td><%= user.role.titleize %></td>
            <td><%= l(user.updated_at, format: :long) %></td>
          </tr>
        <% end %>
      </tbody>
    </table>
  </section>
</main>