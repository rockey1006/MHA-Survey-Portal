<main class="main-content">
  <section class="dashboard-section">
    <div class="section-header">
      <h1 class="section-title">Available Surveys</h1>
      <p class="section-subtitle">Pick a survey to assign to a student</p>
    </div>

    <% if @surveys.present? %>
      <div class="dashboard-grid dashboard-grid-1">
        <% @surveys.each_with_index do |survey, idx| %>
          <div class="feature-item" style="margin-bottom:2em;">
            <div class="feature-icon" aria-hidden="true">ğŸ“„</div>
            <div class="feature-title">#<%= idx + 1 %> <%= survey.title %></div>
            <% description = survey.try(:description) || survey.categories.limit(3).map(&:name).join(", ") %>
            <% if description.present? %>
              <div class="feature-description"><%= description %></div>
            <% end %>
            <div style="margin-top:1em;">
              <%= link_to 'Assign to Student', advisors_survey_path(survey), class: tailwind_button_classes(:secondary) %>
            </div>
          </div>
        <% end %>
      </div>
    <% else %>
      <div class="feature-item" style="max-width: 560px; margin: 0 auto;">
        <div class="feature-icon" aria-hidden="true">ğŸ“­</div>
        <div class="feature-title">No surveys available</div>
        <div class="feature-description">Create a survey first to begin assigning it to students.</div>
      </div>
    <% end %>

    <!-- Back button row -->
    <div style="margin-top:2rem; display:flex; justify-content:flex-start;">
      <%= link_to "â† Back",
                  advisor_dashboard_path,
                  class: "inline-flex items-center rounded-lg bg-slate-200 px-4 py-2 text-slate-800 hover:bg-slate-300",
                  data: { turbo: false } %>
    </div>
  </section>
</main>
